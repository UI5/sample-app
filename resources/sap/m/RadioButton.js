/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/EnabledPropagator","sap/ui/core/Lib","sap/ui/core/Element","sap/ui/core/message/MessageMixin","sap/m/Label","sap/ui/core/library","sap/base/strings/capitalize","./RadioButtonRenderer"],function(e,t,r,i,a,o,s,n,p,u){"use strict";var l=n.TextAlign;var d=n.ValueState;var c=n.TextDirection;var h=e.WrappingType;var g=function(){var e=0;return function(){return e++}}();var f=t.extend("sap.m.RadioButton",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.m.IToolbarInteractiveControl"],library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},selected:{type:"boolean",group:"Data",defaultValue:false},groupName:{type:"string",group:"Behavior",defaultValue:"sapMRbDefaultGroup"},text:{type:"string",group:"Appearance",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:c.Inherit},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:""},useEntireWidth:{type:"boolean",group:"Appearance",defaultValue:false},activeHandling:{type:"boolean",group:"Appearance",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:d.None},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:l.Begin},editableParent:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},valueStateText:{type:"string",group:"Misc",defaultValue:null,visibility:"hidden"},wrapping:{type:"boolean",group:"Appearance",defaultValue:false},wrappingType:{type:"sap.m.WrappingType",group:"Appearance",defaultValue:h.Normal}},events:{select:{parameters:{selected:{type:"boolean"}}}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},dnd:{draggable:true,droppable:false},designtime:"sap/m/designtime/RadioButton.designtime"},renderer:u});r.call(f.prototype);o.call(f.prototype);f.getNextSelectionNumber=g;f.prototype._groupNames={};var y={HOME:"first",END:"last",NEXT:"next",PREV:"prev"};f.prototype.init=function(){this._iSelectionNumber=-1};f.prototype.onBeforeRendering=function(){var e=this.getGroupName();this._updateGroupName(e);this._updateLabelProperties();if(this.getSelected()&&e!==""&&this._isLastSelectedInGroup(e)){this._deselectOthersInGroup(e)}};f.prototype.exit=function(){var e=this.getGroupName(),t=this._groupNames[e],r=t&&t.indexOf(this);this._iTabIndex=null;if(this._oLabel){this._oLabel.destroy();this._oLabel=null}if(r>=-1){t.splice(r,1)}};f.prototype.ontap=function(e){if(!this.getEnabled()||!this.getEditable()){return}var t=this.getParent();if(t&&t.isA("sap.m.RadioButtonGroup")&&(!t.getEnabled()||!t.getEditable())){return}e&&e.setMarked();this.applyFocusInfo();if(!this.getSelected()){this.setSelected(true);var r=this;setTimeout(function(){r.fireSelect({selected:true})},0)}};f.prototype.setGroupName=function(e){this._updateGroupName(e,this.getGroupName());this.setProperty("groupName",e);return this};f.prototype.setSelected=function(e){this.setProperty("selected",e);if(this.getSelected()){this._iSelectionNumber=g()}return this};f.prototype.ontouchstart=function(e){e.setMarked();if(this.getEnabled()&&this.getActiveHandling()){this.addStyleClass("sapMRbBTouched")}};f.prototype.ontouchend=function(){this.removeStyleClass("sapMRbBTouched")};f.prototype.onsapnext=function(e){this._keyboardHandler(y.NEXT,true);e.setMarked();return this};f.prototype.onsapnextmodifiers=function(e){this._keyboardHandler(y.NEXT,!e.ctrlKey);e.setMarked();return this};f.prototype.onsapprevious=function(e){this._keyboardHandler(y.PREV,true);e.setMarked();return this};f.prototype.onsappreviousmodifiers=function(e){this._keyboardHandler(y.PREV,!e.ctrlKey);e.setMarked();return this};f.prototype.onsaphome=function(e){this._keyboardHandler(y.HOME,true);e.setMarked();return this};f.prototype.onsaphomemodifiers=function(e){this._keyboardHandler(y.HOME,!e.ctrlKey);e.setMarked();return this};f.prototype.onsapend=function(e){this._keyboardHandler(y.END,true);e.setMarked();return this};f.prototype.onsapendmodifiers=function(e){this._keyboardHandler(y.END,!e.ctrlKey);e.setMarked();return this};f.prototype._keyboardHandler=function(e,t){if(this.getParent()&&this.getParent().isA("sap.m.RadioButtonGroup")){return}var r=this._getNextFocusItem(e);r.focus();if(t&&!r.getSelected()&&r.getEditable()&&r.getEnabled()){r.setSelected(true);setTimeout(function(){r.fireSelect({selected:true})},0)}};f.prototype.getAccessibilityInfo=function(){var e=i.getResourceBundleFor("sap.m");return{role:"radio",type:e.getText("ACC_CTR_TYPE_RADIO"),description:(this.getText()||"")+(this.getSelected()?" "+e.getText("ACC_CTR_STATE_CHECKED"):" "+e.getText("ACC_CTR_STATE_NOT_CHECKED")),enabled:this.getEnabled(),editable:this.getEditable()}};f.prototype.getFormDoNotAdjustWidth=function(){return this.getText()?false:true};f.prototype._getNextFocusItem=function(e){const t=this._groupNames[this.getGroupName()].filter(function(e){return e.getDomRef()&&e.getEnabled()});const r=t.map(e=>`#${e.getDomRef().getAttribute("id")}`).join(", ");const i=Array.from(document.querySelectorAll(r)).map(e=>a.getElementById(e.id));const o=i.indexOf(this);const s=i.length;let n=o;switch(e){case y.NEXT:n=o===s-1?o:o+1;break;case y.PREV:n=o===0?0:n-1;break;case y.HOME:n=0;break;case y.END:n=s-1;break}return i[n]||this};f.prototype.onsapselect=function(e){e.preventDefault();this.ontap(e)};f.prototype.setTabIndex=function(e){var t=this.getFocusDomRef();this._iTabIndex=e;if(t){t.setAttribute("tabindex",e)}return this};f.prototype.setValueStateText=function(e){return this.setProperty("valueStateText",e)};f.prototype._updateLabelProperties=function(){var e=this._getLabel();var t=this.getText();var r=this.getUseEntireWidth();this.toggleStyleClass("sapMRbHasLabel",!!t);e.setText(t).setWidth(!r?this.getWidth():"auto").setTextDirection(this.getTextDirection()).setTextAlign(this.getTextAlign()).setWrappingType(this.getWrappingType()).setWrapping(this.getWrapping())};f.prototype._getLabel=function(){if(!this._oLabel){this._oLabel=new s(this.getId()+"-label");this._oLabel.addStyleClass("sapMRbBLabel").setParent(this,null,true)}return this._oLabel};f.prototype._updateGroupName=function(e,t){var r=this._groupNames[e],i=this._groupNames[t];if(i&&i.indexOf(this)!==-1){i.splice(i.indexOf(this),1)}if(!r){r=this._groupNames[e]=[]}if(r.indexOf(this)===-1){r.push(this)}};f.prototype._isLastSelectedInGroup=function(e){var t=this._groupNames[e];return t.every(function(e){return e._iSelectionNumber<=this._iSelectionNumber}.bind(this))};f.prototype._deselectOthersInGroup=function(e){var t=this._groupNames[e],r=t&&t.length;for(var i=0;i<r;i++){var a=t[i];if(a instanceof f&&a!==this&&a.getSelected()){a.fireSelect({selected:false});a.setSelected(false)}}};f.prototype._getToolbarInteractive=function(){return true};["editableParent"].forEach(function(e){f.prototype["_set"+p(e)]=function(t){return this.setProperty(e,t,true)}});return f});
//# sourceMappingURL=RadioButton.js.map