/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/DynamicDateUtil","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/model/SimpleType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/base/util/each"],function(t,e,a,i,n,r,o,s){"use strict";var u=i.extend("sap.m.DynamicDate",{constructor:function(){this.sName="DynamicDate";i.apply(this,arguments)}});u.prototype.formatValue=function(e){var a={};if(!e){return}a.operator=e.operator;a.values=e.values.slice(0);var i=t.getOption(e.operator).getValueTypes();a.values=a.values.map(function(t,e){if(i[e]==="date"||i[e]==="datetime"){return p.parse(t)}return t},this);return a};u.prototype.parseValue=function(e){var a={},i;if(!e){return}if(e.operator==="PARSEERROR"){throw new r(e.values[0])}a.operator=e.operator;a.values=e.values.slice(0);i=t.getOption(e.operator).getValueTypes();a.values=a.values.map(function(t,e){if(i[e]==="date"||i[e]==="datetime"){return p.format(t)}return t},this);return a};u.prototype.validateValue=function(i){if(this.oConstraints){var n=e.getResourceBundleFor("sap.m"),r=[],u=[],p=t.getOption(i.operator),m=p.toDates(this.formatValue(i)).map(function(t){return t.getTime()});if(m[0]===m[1]){m.length=1}m.forEach(function(t,e){var i="DynamicDate.Invalid"+(e===0?"Start":"End");s(this.oConstraints,function(e,o){switch(e){case"minimum":if(t<o){r.push("minimum");u.push(n.getText(i,[a.getInstance(t).toDateString()]));u.push(n.getText("DynamicDate.Minimum",[a.getInstance(o).toDateString()]))}break;case"maximum":if(t>o){r.push("maximum");u.push(n.getText(i,[a.getInstance(t).toDateString()]));u.push(n.getText("DynamicDate.Maximum",[a.getInstance(o).toDateString()]))}break}})},this);if(r.length>0){throw new o(this.combineMessages(u),r)}}};var p={format:function(t){if(t instanceof Date){return t.getTime()}return null},parse:function(t){if(isNaN(t)){throw new n("Cannot format date: "+t+" is not a valid Timestamp")}else if(typeof t!=="number"){t=parseInt(t)}t=a.getInstance(t);return t}};return u});
//# sourceMappingURL=DynamicDate.js.map