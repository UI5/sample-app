/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./InputBase","./Input","./NumericInputRenderer","./library","sap/ui/core/format/NumberFormat","sap/ui/Device","sap/ui/events/KeyCodes","sap/ui/dom/jquery/cursorPos"],function(e,t,r,i,o,n,s){"use strict";var a=i.InputType;var u=t.extend("sap.m.NumericInput",{metadata:{library:"sap.m"},renderer:r});u.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.call(this);this.setWidth("100%");this._deregisterEvents()};u.prototype.setValue=function(e){t.prototype.setValue.apply(this,arguments);if(this.getDomRef()){this.getDomRef("inner").setAttribute("aria-valuenow",e)}return this};u.prototype.setType=function(e){return t.prototype.setType.call(this,a.Number)};u.prototype.onkeydown=function(e){var r,i,o;t.prototype.onkeydown.apply(this,arguments);if(!n.system.desktop||e.ctrlKey||e.metaKey||e.originalEvent.key&&e.originalEvent.key.length!==1){return}i=this._$input.cursorPos();if(e.which===s.NUMPAD_COMMA){e.preventDefault();r=this.getValue().substring(0,i)+this._getNumberFormat().oFormatOptions.decimalSeparator+this.getValue().substring(i);o=this._getNumberFormat().parse(r);if(o||o===0){this.setDOMValue(r)}return}var a=this._getNumberFormat().oFormatOptions.decimalSeparator;if(e.originalEvent.key===a&&i===0){e.preventDefault();this.setDOMValue(a);return}var u=i===0&&(e.which===s.SLASH||e.which===s.NUMPAD_MINUS);r=this.getValue().substring(0,i)+e.originalEvent.key+this.getValue().substring(i);o=this._getNumberFormat().parse(r);if(!m(e.which)||!o&&o!==0&&!u){e.preventDefault()}};var p=[[s.A,s.Z],[s.OPEN_BRACKET,s.OPEN_BRACKET],[s.PIPE,s.SEMICOLON],[s.GREAT_ACCENT,s.BACKSLASH]];function m(e){return Object.values(s).includes(e)&&!p.some(function(t){return e>=t[0]&&e<=t[1]})}u.prototype._getNumberFormat=function(){if(!this._oNumberFormat){this._oNumberFormat=o.getFloatInstance()}return this._oNumberFormat};return u});
//# sourceMappingURL=NumericInput.js.map