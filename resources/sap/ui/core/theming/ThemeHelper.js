/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/future","sap/base/Log"],function(e,t){"use strict";var a={};const r="sap_horizon";const n=window.matchMedia("(prefers-color-scheme: dark)").matches;const i=/(_hcb|_hcw|_dark)$/g;const o=["sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw"];const s={};var c={};c.reset=function(){a={}};c.getMetadata=function(t){if(!t){return null}var r=t.replace("sap-ui-theme-","").replace(/\./g,"-");if(a[r]){return a[r]}var n=document.createElement("span");n.classList.add("sapThemeMetaData-UI5-"+r);document.documentElement.appendChild(n);var i=window.getComputedStyle(n).getPropertyValue("background-image");document.documentElement.removeChild(n);var o=/\(["']?data:text\/plain;utf-8,(.*?)['"]?\)/i.exec(i);if(!o||o.length<2){return null}var s=o[1];if(s.charAt(0)!=="{"&&s.charAt(s.length-1)!=="}"){try{s=decodeURI(s)}catch(e){}}s=s.replace(/\\"/g,'"');var c=s.replace(/%20/g," ");var h;try{h=JSON.parse(c);a[r]=h}catch(t){e.errorThrows("Could not parse theme metadata for library "+r+".")}return h};c.validateAndFallbackTheme=function(e,a){if(a==null&&s[e]){return s[e]}let c=e;if(a==null&&(!e||e.startsWith("sap_")&&o.indexOf(e)==-1)){let a;if(e){a=e.match(i)?.[0]||"";t.warning(`The configured theme '${e}' is not yet or no longer supported in this version. The valid fallback theme is '${r}${a}'.`,"Theming")}else{a=n?"_dark":""}c=`${r}${a}`;s[e]=c}return c};c.getDefaultThemeInfo=function(){return{DEFAULT_THEME:r,DARK_MODE:n}};c.isStandardTheme=function(e){return e.startsWith("sap_")||e==="base"};return c});
//# sourceMappingURL=ThemeHelper.js.map